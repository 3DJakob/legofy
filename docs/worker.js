legoColors = [
  { l: 27, a: 30, b: -72 }, { l: 5, a: -2, b: -9 }, { l: 37, a: 13, b: -63 }, { l: 44, a: -36, b: 23 }, { l: 54, a: -30, b: -16 }, { l: 44, a: 65, b: 56 }, { l: 59, a: 40, b: -10 }, { l: 27, a: 13, b: 17 }, { l: 66, a: -3, b: 1 }, { l: 46, a: -3, b: 10 }, { l: 82, a: -8, b: -12 }, { l: 59, a: -40, b: 36 }, { l: 63, a: -23, b: -13 }, { l: 63, a: 50, b: 35 }, { l: 74, a: 41, b: 6 }, { l: 84, a: 3, b: 74 }, { l: 100, a: 0, b: 0 }, { l: 85, a: -13, b: 14 }, { l: 92, a: -1, b: 42 }, { l: 83, a: 3, b: 27 }, { l: 82, a: 3, b: -12 }, { l: 85, a: -2, b: 6 }, { l: 30, a: 56, b: -33 }, { l: 27, a: 32, b: -70 }, { l: 70, a: 41, b: 72 }, { l: 39, a: 44, b: -17 }, { l: 87, a: -33, b: 82 }, { l: 58, a: 1, b: 14 }, { l: 77, a: 24, b: -6 }, { l: 58, a: 30, b: -27 }, { l: 87, a: 8, b: -10 }, { l: 39, a: 2, b: 10 }, { l: 60, a: -7, b: -26 }, { l: 65, a: -46, b: 24 }, { l: 47, a: 45, b: -18 }, { l: 16, a: -4, b: -9 }, { l: 85, a: 8, b: 31 }, { l: 56, a: 48, b: -9 }, { l: 23, a: 20, b: 25 }, { l: 67, a: -1, b: -3 }, { l: 46, a: -2, b: 3 }, { l: 59, a: -3, b: -43 }, { l: 80, a: -42, b: 19 }, { l: 5, a: -2, b: -9 }, { l: 46, a: -2, b: 3 }, { l: 87, a: 19, b: 6 }, { l: 88, a: 7, b: 22 }, { l: 100, a: 0, b: 0 }, { l: 69, a: 0, b: -6 }, { l: 61, a: -14, b: 29 }, { l: 73, a: 10, b: 64 }, { l: 56, a: 14, b: 29 }, { l: 28, a: 25, b: -50 }, { l: 39, a: 17, b: 21 }, { l: 45, a: 23, b: -66 }, { l: 66, a: 21, b: 32 }, { l: 82, a: 26, b: 9 }, { l: 38, a: 13, b: -46 }, { l: 51, a: 13, b: -47 }, { l: 81, a: -17, b: 68 }, { l: 83, a: -13, b: -1 }, { l: 89, a: -11, b: 29 }, { l: 80, a: 17, b: 53 }, { l: 5, a: -2, b: -9 }, { l: 5, a: -2, b: -9 }, { l: 56, a: 18, b: 27 }, { l: 67, a: -2, b: -4 }, { l: 56, a: -1, b: -15 }, { l: 78, a: 6, b: 34 }, { l: 37, a: -1, b: 0 }, { l: 71, a: -1, b: 0 }, { l: 90, a: 1, b: 2 }, { l: 92, a: -14, b: 34 }, { l: 59, a: 15, b: 33 }, { l: 57, a: 1, b: 0 }, { l: 96, a: 0, b: 0 }, { l: 80, a: 15, b: 68 }, { l: 77, a: -6, b: -23 }, { l: 39, a: 60, b: 52 }, { l: 94, a: -8, b: 82 }, { l: 74, a: -16, b: -22 }, { l: 21, a: 1, b: -32 }, { l: 26, a: -21, b: 7 }, { l: 56, a: 11, b: 49 }, { l: 15, a: 7, b: 22 }, { l: 57, a: -16, b: -34 }, { l: 24, a: 42, b: 30 }, { l: 54, a: -14, b: -42 }, { l: 65, a: -30, b: -19 }, { l: 77, a: -8, b: -1 }, { l: 63, a: -7, b: 34 }, { l: 68, a: 0, b: 55 }, { l: 61, a: 38, b: 19 }, { l: 70, a: 48, b: -3 }, { l: 73, a: 30, b: 73 }, { l: 45, a: 21, b: -15 }, { l: 74, a: -12, b: 5 }, { l: 49, a: 1, b: -27 }, { l: 89, a: 0, b: 0 }, { l: 57, a: 20, b: 33 }, { l: 76, a: 27, b: 78 }, { l: 46, a: 32, b: 55 }, { l: 90, a: 0, b: 5 }, { l: 87, a: 0, b: 0 }, { l: 63, a: 16, b: -42 }, { l: 45, a: 32, b: -26 }, { l: 59, a: -26, b: -27 }, { l: 36, a: -32, b: 30 }, { l: 44, a: 64, b: 56 }, { l: 81, a: 8, b: 81 }, { l: 69, a: 31, b: 68 }, { l: 96, a: 0, b: 0 }, { l: 74, a: 1, b: -10 }, { l: 64, a: 0, b: 0 }, { l: 39, a: -1, b: -2 }, { l: 40, a: 7, b: 3 }, { l: 33, a: 1, b: -3 }, { l: 7, a: 26, b: 11 }, { l: 35, a: 1, b: 21 }, { l: 51, a: 8, b: 24 }, { l: 81, a: 4, b: 24 }, { l: 41, a: 55, b: 42 }, { l: 60, a: 58, b: 48 }, { l: 65, a: 44, b: 60 }, { l: 77, a: 23, b: 49 }, { l: 91, a: 0, b: 58 }, { l: 87, a: 5, b: 65 }, { l: 77, a: -17, b: 73 }, { l: 68, a: -34, b: 54 }, { l: 57, a: -15, b: 31 }, { l: 50, a: -30, b: -4 }, { l: 45, a: -11, b: -15 }, { l: 36, a: 3, b: -50 }, { l: 69, a: -7, b: -48 }, { l: 67, a: -16, b: -24 }, { l: 59, a: 26, b: 6 }, { l: 70, a: 48, b: -3 }, { l: 100, a: 0, b: 0 }, { l: 39, a: -1, b: -2 }, { l: 64, a: 0, b: 0 }, { l: 36, a: -40, b: 41 }, { l: 68, a: -34, b: 54 }, { l: 36, a: 3, b: -50 }, { l: 67, a: -16, b: -24 }, { l: 20, a: 47, b: -54 }, { l: 29, a: 51, b: 43 }, { l: 87, a: 5, b: 65 }, { l: 77, a: 23, b: 49 }, { l: 65, a: 60, b: 10 }, { l: 74, a: -27, b: -21 }, { l: 86, a: -6, b: 84 }, { l: 52, a: 26, b: 60 }, { l: 68, a: 46, b: 72 }, { l: 58, a: 12, b: 38 }, { l: 69, a: 20, b: 62 }, { l: 50, a: 29, b: 33 }, { l: 58, a: 59, b: 51 }, { l: 46, a: 71, b: 46 }, { l: 37, a: 0, b: -47 }, { l: 51, a: -48, b: 34 }, { l: 27, a: 12, b: 14 }, { l: 6, a: 2, b: -15 }, { l: 60, a: -23, b: -35 }, { l: 58, a: -19, b: -25 }, { l: 94, a: -9, b: 85 }, { l: 89, a: -57, b: 51 }, { l: 52, a: -30, b: 16 }, { l: 69, a: -40, b: 26 }, { l: 84, a: 9, b: 38 }, { l: 32, a: 39, b: 35 }, { l: 68, a: 56, b: -4 }, { l: 43, a: 28, b: 18 }, { l: 51, a: 25, b: 37 }, { l: 48, a: 0, b: 1 }, { l: 49, a: -13, b: 27 }, { l: 71, a: 48, b: 11 }, { l: 5, a: -2, b: -9 }
]

const euclidean = (a, b) => {
  return Math.pow(a.l - b.l, 2) + Math.pow(a.a - b.a, 2) + Math.pow(a.b - b.b, 2)
}

const findColor = (a) => {
  if (legoColors != undefined) {
    let smallestDist = euclidean(a, legoColors[0])
    
    let smallestIndex = 0
    for (let i = 1; i < legoColors.length; i++) {
      const dist = euclidean(a, legoColors[i])
      if (dist < smallestDist) {
        smallestDist = dist
        smallestIndex = i
      }
    }
    return legoColors[smallestIndex]
  }
  return null
}

self.onmessage = ($event) => {
  const data = $event.data
  const answer = {color: findColor(data.color), posX: data.posX, posY: data.posY}
  self.postMessage(answer)
}